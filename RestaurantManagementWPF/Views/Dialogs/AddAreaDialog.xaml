<Window x:Class="RestaurantManagementWPF.Views.Dialogs.AddAreaDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:RestaurantManagementWPF.ViewModels.Dialogs"
        mc:Ignorable="d"
        Title="Add New Area" 
        Height="550" Width="450"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="White">

    <Window.DataContext>
        <vm:AddAreaDialogViewModel/>
    </Window.DataContext>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Add New Area" 
                       FontSize="24" 
                       FontWeight="Bold"
                       Foreground="#333333"/>
            <TextBlock Text="Create a new area for your restaurant" 
                       FontSize="13"
                       Foreground="#666666"
                       Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Form Fields -->
        <StackPanel Grid.Row="1">
            
            <!-- Area Name -->
            <TextBlock Text="Area Name *" 
                       FontSize="14" 
                       FontWeight="SemiBold"
                       Foreground="#333333"
                       Margin="0,0,0,8"/>
            <TextBox Text="{Binding AreaName, UpdateSourceTrigger=PropertyChanged}"
                     Style="{StaticResource ModernTextBox}"
                     FontSize="14"
                     Margin="0,0,0,20"
                     x:Name="AreaNameTextBox"/>

            <!-- Area Status -->
            <TextBlock Text="Area Status" 
                       FontSize="14" 
                       FontWeight="SemiBold"
                       Foreground="#333333"
                       Margin="0,0,0,8"/>
            <ComboBox SelectedValue="{Binding AreaStatus}"
                      SelectedValuePath="Content"
                      FontSize="14"
                      Padding="10,8"
                      Margin="0,0,0,20">
                <ComboBoxItem Content="Using" IsSelected="True"/>
                <ComboBoxItem Content="Maintenance"/>
            </ComboBox>

            <!-- Auto Create Tables -->
            <Border BorderBrush="#E0E0E0"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="15"
                    Margin="0,0,0,10"
                    Background="#F9F9F9">
                <StackPanel>
                    <CheckBox IsChecked="{Binding AutoCreateTables}"
                              Content="Auto-create tables for this area"
                              FontSize="14"
                              FontWeight="SemiBold"
                              Foreground="#333333"
                              Margin="0,0,0,15"/>

                    <Grid Visibility="{Binding AutoCreateTables, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Text="Number of tables:" 
                                   FontSize="14"
                                   Foreground="#666666"
                                   VerticalAlignment="Center"
                                   Margin="0,0,15,0"/>

                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                            <Button Content="-" 
                                    Width="35" Height="35"
                                    FontSize="18"
                                    FontWeight="Bold"
                                    Command="{Binding DecrementTablesCommand}"
                                    Style="{StaticResource SecondaryButton}"
                                    Margin="0,0,10,0">
                                <Button.CommandParameter>
                                    <Binding Path="NumberOfTables"/>
                                </Button.CommandParameter>
                            </Button>

                            <TextBox Text="{Binding NumberOfTables, UpdateSourceTrigger=PropertyChanged}"
                                     Width="80"
                                     FontSize="16"
                                     FontWeight="Bold"
                                     TextAlignment="Center"
                                     VerticalContentAlignment="Center"
                                     Style="{StaticResource ModernTextBox}"
                                     Margin="0,0,10,0"/>

                            <Button Content="+" 
                                    Width="35" Height="35"
                                    FontSize="18"
                                    FontWeight="Bold"
                                    Command="{Binding IncrementTablesCommand}"
                                    Style="{StaticResource PrimaryButton}">
                                <Button.CommandParameter>
                                    <Binding Path="NumberOfTables"/>
                                </Button.CommandParameter>
                            </Button>
                        </StackPanel>
                    </Grid>

                    <TextBlock Visibility="{Binding AutoCreateTables, Converter={StaticResource BooleanToVisibilityConverter}}"
                               Text="Tables will be named automatically (Table 01, Table 02, etc.)"
                               FontSize="12"
                               Foreground="#999999"
                               FontStyle="Italic"
                               Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
        </StackPanel>

        <!-- Buttons -->
        <Grid Grid.Row="2" Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0"
                    Content="CREATE"
                    Command="{Binding OKCommand}"
                    Click="OKButton_Click"
                    Style="{StaticResource PrimaryButton}"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Height="45"/>

            <Button Grid.Column="2"
                    Content="CANCEL"
                    Command="{Binding CancelCommand}"
                    Click="CancelButton_Click"
                    Style="{StaticResource SecondaryButton}"
                    FontSize="14"
                    Height="45"/>
        </Grid>
    </Grid>
</Window>
